{% extends 'admin_base.html.twig' %}

{% block title %}Dashboard - School Management System
{% endblock %}

{% block page_title %}Dashboard
{% endblock %}

{% block body %}
	    <!-- Stats Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
        <div class="card bg-base-100 shadow">
            <div class="card-body">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="card-title">Étudiants</h2>
                        <p class="text-3xl font-bold">1,254</p>
                    </div>
                    <div class="p-3 rounded-full bg-primary/10 text-primary">
                        <i data-feather="users" class="w-6 h-6"></i>
                    </div>
                </div>
                <div class="text-sm text-gray-500">+12% ce mois</div>
            </div>
        </div>
        
        <div class="card bg-base-100 shadow">
            <div class="card-body">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="card-title">Enseignants</h2>
                        <p class="text-3xl font-bold">84</p>
                    </div>
                    <div class="p-3 rounded-full bg-secondary/10 text-secondary">
                        <i data-feather="user-check" class="w-6 h-6"></i>
                    </div>
                </div>
                <div class="text-sm text-gray-500">+3 nouveaux ce mois</div>
            </div>
        </div>
        
        <div class="card bg-base-100 shadow">
            <div class="card-body">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="card-title">Classes</h2>
                        <p class="text-3xl font-bold">32</p>
                    </div>
                    <div class="p-3 rounded-full bg-accent/10 text-accent">
                        <i data-feather="book" class="w-6 h-6"></i>
                    </div>
                </div>
                <div class="text-sm text-gray-500">5 nouvelles ce semestre</div>
            </div>
        </div>
        
        <div class="card bg-base-100 shadow">
            <div class="card-body">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="card-title">Présence</h2>
                        <p class="text-3xl font-bold">94%</p>
                    </div>
                    <div class="p-3 rounded-full bg-info/10 text-info">
                        <i data-feather="calendar" class="w-6 h-6"></i>
                    </div>
                </div>
                <div class="text-sm text-gray-500">Moyenne aujourd'hui</div>
            </div>
        </div>
    </div>
    
    <!-- Activity Grid -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
        <!-- Recent Students -->
        <div class="card bg-base-100 shadow">
            <div class="card-body">
                <h2 class="card-title">Étudiants Récents</h2>
                <div class="overflow-x-auto">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Nom</th>
                                <th>Classe</th>
                                <th>Statut</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="flex items-center gap-3">
                                        <div class="avatar">
                                            <div class="w-8 rounded-full">
                                                <img src="https://images.unsplash.com/photo-1500000000000?w=100&h=100&fit=crop&crop=face" />
                                            </div>
                                        </div>
                                        <div>
                                            <div class="font-bold">Rakoto Jean</div>
                                        </div>
                                    </div>
                                </td>
                                <td>Terminale A</td>
                                <td>
                                    <span class="badge badge-success">Actif</span>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="flex items-center gap-3">
                                        <div class="avatar">
                                            <div class="w-8 rounded-full">
                                                <img src="https://images.unsplash.com/photo-1500000000001?w=100&h=100&fit=crop&crop=face" />
                                            </div>
                                        </div>
                                        <div>
                                            <div class="font-bold">Rabe Marie</div>
                                        </div>
                                    </div>
                                </td>
                                <td>1ère B</td>
                                <td>
                                    <span class="badge badge-success">Actif</span>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="flex items-center gap-3">
                                        <div class="avatar">
                                            <div class="w-8 rounded-full">
                                                <img src="https://images.unsplash.com/photo-1500000000002?w=100&h=100&fit=crop&crop=face" />
                                            </div>
                                        </div>
                                        <div>
                                            <div class="font-bold">Andry Paul</div>
                                        </div>
                                    </div>
                                </td>
                                <td>2nde C</td>
                                <td>
                                    <span class="badge badge-warning">En attente</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="card-actions justify-end">
                    <a href="{{ path('app_etudiant_index') }}" class="btn btn-ghost btn-sm">Voir tous</a>
                </div>
            </div>
        </div>
        
        <!-- Upcoming Events -->
        <div class="card bg-base-100 shadow">
            <div class="card-body">
                <h2 class="card-title">Événements à Venir</h2>
                <div class="space-y-4">
                    <div class="flex gap-4">
                        <div class="flex flex-col items-center">
                            <div class="text-xl font-bold">15</div>
                            <div class="text-sm">MAR</div>
                        </div>
                        <div>
                            <h3 class="font-bold">Réunion Parents-Enseignants</h3>
                            <p class="text-sm text-gray-500">9:00 - 12:00</p>
                        </div>
                    </div>
                    <div class="flex gap-4">
                        <div class="flex flex-col items-center">
                            <div class="text-xl font-bold">20</div>
                            <div class="text-sm">MAR</div>
                        </div>
                        <div>
                            <h3 class="font-bold">Journée Sportive</h3>
                            <p class="text-sm text-gray-500">Toute la journée</p>
                        </div>
                    </div>
                    <div class="flex gap-4">
                        <div class="flex flex-col items-center">
                            <div class="text-xl font-bold">25</div>
                            <div class="text-sm">MAR</div>
                        </div>
                        <div>
                            <h3 class="font-bold">Examens de Mi-Semestre</h3>
                            <p class="text-sm text-gray-500">Toute la semaine</p>
                        </div>
                    </div>
                </div>
                <div class="card-actions justify-end">
                    <button class="btn btn-ghost btn-sm">Voir calendrier</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Charts Row -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
        <!-- Enrollment Chart -->
        <div class="card bg-base-100 shadow">
            <div class="card-body">
                <h2 class="card-title">Inscriptions par Mois</h2>
                <div class="h-64 flex items-end justify-center space-x-2">
                    <div class="flex flex-col items-center">
                        <div class="bg-primary rounded-t w-8 mb-2" style="height: 80px;"></div>
                        <span class="text-xs text-gray-500">1</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="bg-primary rounded-t w-8 mb-2" style="height: 60px;"></div>
                        <span class="text-xs text-gray-500">2</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="bg-primary rounded-t w-8 mb-2" style="height: 90px;"></div>
                        <span class="text-xs text-gray-500">3</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="bg-primary rounded-t w-8 mb-2" style="height: 70px;"></div>
                        <span class="text-xs text-gray-500">4</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="bg-primary rounded-t w-8 mb-2" style="height: 100px;"></div>
                        <span class="text-xs text-gray-500">5</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="bg-primary rounded-t w-8 mb-2" style="height: 85px;"></div>
                        <span class="text-xs text-gray-500">6</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="bg-primary rounded-t w-8 mb-2" style="height: 95px;"></div>
                        <span class="text-xs text-gray-500">7</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="bg-primary rounded-t w-8 mb-2" style="height: 75px;"></div>
                        <span class="text-xs text-gray-500">8</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="bg-primary rounded-t w-8 mb-2" style="height: 88px;"></div>
                        <span class="text-xs text-gray-500">9</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="bg-primary rounded-t w-8 mb-2" style="height: 65px;"></div>
                        <span class="text-xs text-gray-500">10</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="bg-primary rounded-t w-8 mb-2" style="height: 78px;"></div>
                        <span class="text-xs text-gray-500">11</span>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="bg-primary rounded-t w-8 mb-2" style="height: 92px;"></div>
                        <span class="text-xs text-gray-500">12</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Class Distribution -->
        <div class="card bg-base-100 shadow">
            <div class="card-body">
                <h2 class="card-title">Répartition par Niveau</h2>
                <div class="space-y-3">
                    <div>
                        <div class="flex justify-between text-sm mb-1">
                            <span>Terminale</span>
                            <span>145 étudiants</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-primary h-2 rounded-full" style="width: 35%"></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between text-sm mb-1">
                            <span>1ère</span>
                            <span>128 étudiants</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-primary h-2 rounded-full" style="width: 30%"></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between text-sm mb-1">
                            <span>2nde</span>
                            <span>98 étudiants</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-primary h-2 rounded-full" style="width: 25%"></div>
                        </div>
                    </div>
                    <div>
                        <div class="flex justify-between text-sm mb-1">
                            <span>3ème</span>
                            <span>45 étudiants</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-primary h-2 rounded-full" style="width: 10%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Recent Activity -->
    <div class="card bg-base-100 shadow">
        <div class="card-body">
            <h2 class="card-title">Activité Récente</h2>
            <div class="space-y-4">
                <div class="flex items-center gap-4 p-3 rounded-lg hover:bg-base-200 transition-colors">
                    <div class="p-2 rounded-full bg-primary/10 text-primary">
                        <i data-feather="user-plus" class="w-4 h-4"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-sm">
                            <span class="font-medium">Rakoto Jean</span>
                            s'est inscrit en Terminale A
                        </p>
                        <p class="text-xs text-gray-500">Il y a 2h</p>
                    </div>
                </div>
                <div class="flex items-center gap-4 p-3 rounded-lg hover:bg-base-200 transition-colors">
                    <div class="p-2 rounded-full bg-primary/10 text-primary">
                        <i data-feather="credit-card" class="w-4 h-4"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-sm">
                            <span class="font-medium">Rabe Marie</span>
                            a effectué un paiement de 150,000 Ar
                        </p>
                        <p class="text-xs text-gray-500">Il y a 4h</p>
                    </div>
                </div>
                <div class="flex items-center gap-4 p-3 rounded-lg hover:bg-base-200 transition-colors">
                    <div class="p-2 rounded-full bg-primary/10 text-primary">
                        <i data-feather="book" class="w-4 h-4"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-sm">
                            <span class="font-medium">Admin</span>
                            a créé la classe 1ère D
                        </p>
                        <p class="text-xs text-gray-500">Il y a 1 jour</p>
                    </div>
                </div>
                <div class="flex items-center gap-4 p-3 rounded-lg hover:bg-base-200 transition-colors">
                    <div class="p-2 rounded-full bg-primary/10 text-primary">
                        <i data-feather="user-check" class="w-4 h-4"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-sm">
                            <span class="font-medium">Professeur Martin</span>
                            a été assigné à la classe Terminale B
                        </p>
                        <p class="text-xs text-gray-500">Il y a 2 jours</p>
                    </div>
                </div>
            </div>
            <div class="card-actions justify-end">
                <button class="btn btn-ghost btn-sm">Voir toute l'activité</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block javascripts %}
<script>
    // Initialize feather icons
    document.addEventListener('DOMContentLoaded', function() {
        feather.replace();
    });
</script>
{% endblock %}
