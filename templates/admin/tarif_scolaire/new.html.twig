{% extends 'admin_base.html.twig' %}

{% block title %}New TarifScolaire{% endblock %}

{% block body %}
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-2xl font-bold">Créer un nouveau Tarif Scolaire</h1>
        <a href="{{ path('app_tarif_scolaire_index') }}" class="btn btn-ghost">
            <i data-feather="arrow-left" class="w-4 h-4 mr-2"></i>
            Retour à la liste
        </a>
    </div>

    <!-- Flash messages -->
    {% for message in app.flashes('error') %}
        <div class="alert alert-error mb-6">
            <i data-feather="alert-circle" class="w-4 h-4 mr-2"></i>
            {{ message }}
        </div>
    {% endfor %}

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Create Form -->
        <div class="card bg-base-100 shadow">
            <div class="card-body">
                <h2 class="card-title mb-4">Nouveau Tarif Scolaire</h2>
                {{ include('admin/tarif_scolaire/_form.html.twig') }}
            </div>
        </div>

        <!-- Existing Tariffs -->
        <div class="card bg-base-100 shadow">
            <div class="card-body">
                <h2 class="card-title mb-4">Tarifs Scolaires Existants</h2>
                <div class="overflow-x-auto">
                    <table class="table table-zebra">
                        <thead>
                            <tr>
                                <th>Niveau</th>
                                <th>Année Scolaire</th>
                                <th>Écolage</th>
                                <th>Inscription</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for tarif in tarif_scolaires %}
                                <tr class="hover">
                                    <td>{{ tarif.niveau.nom }}</td>
                                    <td>{{ tarif.anneeScolaire.libelle }}</td>
                                    <td>{{ tarif.montantEcolage }} Ar</td>
                                    <td>{{ tarif.montantInscription }} Ar</td>
                                </tr>
                            {% else %}
                                <tr>
                                    <td colspan="4" class="text-center">Aucun tarif scolaire trouvé</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
